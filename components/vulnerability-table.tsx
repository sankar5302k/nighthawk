"use client"

import { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from "@/components/ui/table"
import { Badge } from "@/components/ui/badge"

interface Vulnerability {
  id: number
  name: string
  severity: string
  location: string
  description: string
}

interface VulnerabilityTableProps {
  vulnerabilities: Vulnerability[]
}

export function VulnerabilityTable({ vulnerabilities }: VulnerabilityTableProps) {
  // Function to get badge variant based on severity
  const getSeverityBadge = (severity: string) => {
    switch (severity.toLowerCase()) {
      case "high":
        return (
          <Badge variant="outline" className="bg-red-900/30 text-red-300 border-red-700">
            High
          </Badge>
        )
      case "medium":
        return (
          <Badge variant="outline" className="bg-yellow-900/30 text-yellow-300 border-yellow-700">
            Medium
          </Badge>
        )
      case "low":
        return (
          <Badge variant="outline" className="bg-blue-900/30 text-blue-300 border-blue-700">
            Low
          </Badge>
        )
      default:
        return (
          <Badge variant="outline" className="bg-gray-900/30 text-gray-300 border-gray-700">
            Info
          </Badge>
        )
    }
  }

  return (
    <div className="rounded-md border border-gray-700">
      <Table>
        <TableHeader className="bg-gray-900/50">
          <TableRow>
            <TableHead className="w-[180px]">Vulnerability</TableHead>
            <TableHead className="w-[100px]">Severity</TableHead>
            <TableHead>Location</TableHead>
            <TableHead className="w-[300px]">Description</TableHead>
          </TableRow>
        </TableHeader>
        <TableBody>
          {vulnerabilities.map((vuln) => (
            <TableRow key={vuln.id}>
              <TableCell className="font-medium">{vuln.name}</TableCell>
              <TableCell>{getSeverityBadge(vuln.severity)}</TableCell>
              <TableCell className="text-gray-400">{vuln.location}</TableCell>
              <TableCell className="text-gray-400">{vuln.description}</TableCell>
            </TableRow>
          ))}
        </TableBody>
      </Table>
    </div>
  )
}
